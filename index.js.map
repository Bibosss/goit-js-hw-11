{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\n\n\nexport const pixabayApi = searchQuery => {\n    const params = new URLSearchParams({\n    key: \"47362908-c1a65ba58d6ddf3afd8961379\",\n    q: searchQuery,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n})\n\nreturn fetch(`${BASE_URL}?${params}`)\n    .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n        return response.json();\n})\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport const createGallery = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<a href=\"${largeImageURL}\" class=\"gallery_item\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery__image\" />\n    <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b> ${likes}</p>\n    <p class=\"info-item\"><b>Views</b> ${views}</p>\n    <p class=\"info-item\"><b>Comments</b> ${comments}</p>\n    <p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n    </div>\n    </a>`\n}\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector(\".js-gallery\");\n    gallery.innerHTML = images.map(createGallery).join(\"\");\n    initializeLightbox();\n}\n\nfunction initializeLightbox() {\n    if (lightbox) {\n        lightbox.refresh();\n    }\n    else {\n        lightbox = new SimpleLightbox('.js-gallery a', {\n            captions: true,\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n    }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { pixabayApi } from \"./js/pixabay-api.js\"\nimport { createGallery, renderGallery } from \"./js/render-functions.js\"\n\nconst searchForm = document.querySelector('.js-search-form');\nconst inputField = document.querySelector('.js-search-input');\nconst gallery = document.querySelector(\".js-gallery\")\nconst loader = document.querySelector(\".loader\")\n\nsearchForm.addEventListener(\"submit\", handleSubmit)\n\nfunction toLoader(show) {\n    if (show) {\n        loader.classList.remove(\"hidden\");\n    }\n    else {\n        loader.classList.add(\"hidden\");\n    }\n};\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const searchQuery = event.target.elements.user_query.value.trim();\n\n    if (!searchQuery) {\n        iziToast.error({\n            message: 'Please write smth normal.',\n            position: 'topRight',\n        });\n        return;\n    };\n\n    gallery.innerHTML = \"\";\n\n    toLoader(true);\n\n    pixabayApi(searchQuery)\n        .then((data) => {\n            if (data.total === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            }\n            renderGallery(data.hits);\n        })\n        .catch((error) => {\n            console.log(error.message);\n        iziToast.error({\n                message: 'Failed to fetch images. Please try again later.',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            toLoader(false);\n    })\n    event.target.elements.user_query.value = \"\";\n}"],"names":["BASE_URL","pixabayApi","searchQuery","params","response","lightbox","createGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","images","gallery","initializeLightbox","SimpleLightbox","searchForm","loader","handleSubmit","toLoader","show","event","iziToast","data","error"],"mappings":"iyBAAA,MAAMA,EAAW,2BAGJC,EAAaC,GAAe,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAC,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAC/B,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MACxB,CAAC,CACD,EChBA,IAAIC,EAEG,MAAMC,EAAgB,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAChF,YAAYL,CAAa;AAAA,gBACpBD,CAAY,UAAUE,CAAI;AAAA;AAAA,wCAEFC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA,UAK9C,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpDA,EAAQ,UAAYD,EAAO,IAAIT,CAAa,EAAE,KAAK,EAAE,EACrDW,GACJ,CAEA,SAASA,GAAqB,CACtBZ,EACAA,EAAS,QAAO,EAGhBA,EAAW,IAAIa,EAAe,gBAAiB,CAC3C,SAAU,GACV,aAAc,MACd,aAAc,GAC1B,CAAS,CAET,CC3BA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EACxC,SAAS,cAAc,kBAAkB,EAC5D,MAAMH,EAAU,SAAS,cAAc,aAAa,EAC9CI,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAUE,CAAY,EAElD,SAASC,EAASC,EAAM,CAChBA,EACAH,EAAO,UAAU,OAAO,QAAQ,EAGhCA,EAAO,UAAU,IAAI,QAAQ,CAErC,CAEA,SAASC,EAAaG,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMtB,EAAcsB,EAAM,OAAO,SAAS,WAAW,MAAM,OAE3D,GAAI,CAACtB,EAAa,CACduB,EAAS,MAAM,CACX,QAAS,4BACT,SAAU,UACtB,CAAS,EACD,MAER,CACIT,EAAQ,UAAY,GAEpBM,EAAS,EAAI,EAEbrB,EAAWC,CAAW,EACjB,KAAMwB,GAAS,CACZ,GAAIA,EAAK,QAAU,EAAG,CAClBD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDX,EAAcY,EAAK,IAAI,CACnC,CAAS,EACA,MAAOC,GAAU,CACd,QAAQ,IAAIA,EAAM,OAAO,EAC7BF,EAAS,MAAM,CACP,QAAS,kDACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXH,EAAS,EAAK,CAC1B,CAAK,EACDE,EAAM,OAAO,SAAS,WAAW,MAAQ,EAC7C"}